(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{40:function(e,t,s){},41:function(e,t,s){},42:function(e,t,s){},71:function(e,t,s){"use strict";s.r(t);var n=s(1),a=s.n(n),c=s(32),r=s.n(c),i=(s(40),s(10)),l=s(4),o=s(5),j=s(7),h=s(6),u=(s(41),s(42),s(9)),b=s(2),d=s(8),g=s.n(d),p=function e(t,s,n,a,c,r,i,l,o,j){return console.log("CHECK EROOR PASS",e),g.a.post("/api/auth/signup",{username:t,password:s,name:n,nativeLanguages:a,learningLanguages:c,location:r,age:i,gender:l,description:o,goal:j}).then((function(e){return e.data})).catch((function(e){return e.response.data}))},m=function(e,t){return console.log("STEP 2",e,t),g.a.post("/api/auth/login",{username:e,password:t}).then((function(e){return console.log("RESPONSE STEP",e.data),e.data})).catch((function(e){return e.response.data}))},O=function(){return g.a.delete("/api/auth/logout").then((function(e){return e.data})).catch((function(e){return e.response.data}))},x=s(0),f=function(e){Object(j.a)(s,e);var t=Object(h.a)(s);function s(){return Object(l.a)(this,s),t.apply(this,arguments)}return Object(o.a)(s,[{key:"render",value:function(){return Object(x.jsx)("section",{className:"container-auth p-2",children:Object(x.jsxs)("div",{children:[Object(x.jsx)("h1",{class:"large text-primary",children:"About Papagei"}),Object(x.jsxs)("p",{class:"lead",children:[Object(x.jsx)("i",{class:"fas fa-user"})," Sign into Your Account"]}),Object(x.jsxs)("p",{class:"my-3",children:["Don't have an account?",Object(x.jsx)(b.b,{to:"/signup",className:" text-dark",children:" Signup "})]})]})})}}]),s}(n.Component);function v(e){return console.log(e.user),Object(x.jsx)("div",{children:Object(x.jsx)("ul",{children:e.user?Object(x.jsx)(x.Fragment,{children:Object(x.jsx)("li",{children:Object(x.jsx)(b.b,{to:"/",onClick:function(){return function(e){O().then((function(){e.setUser(null)}))}(e)},children:"Logout"})})}):Object(x.jsx)(x.Fragment,{children:Object(x.jsxs)("nav",{className:"navbar bg-dark ",children:[Object(x.jsxs)("ul",{children:[Object(x.jsx)("img",{className:"round-img png margin-y",src:"https://images.vexels.com/media/users/3/156819/isolated/lists/9ef07f640db3ffba01c183d3a0864f21-macaw-parrot-bird-illustration.png",alt:""}),Object(x.jsx)("h1",{children:"Papagei"})]}),Object(x.jsxs)("ul",{children:[Object(x.jsx)("li",{children:Object(x.jsx)(b.b,{to:"/",className:"",children:"About Papagei"})}),Object(x.jsx)("li",{children:Object(x.jsx)(b.b,{to:"/signup",className:"",children:"Signup"})}),Object(x.jsx)("li",{children:Object(x.jsx)(b.b,{to:"/login",className:"",children:"Login"})})]})]})})})})}var y=s(3),N=function(e){Object(j.a)(s,e);var t=Object(h.a)(s);function s(){var e;Object(l.a)(this,s);for(var n=arguments.length,a=new Array(n),c=0;c<n;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={username:"",password:"",message:"",name:"",nativeLanguages:"",learningLanguages:[],location:"",age:0,gender:"",description:"",goal:""},e.handleChange=function(t){console.log(t.target);var s=t.target,n=s.name,a=s.value;e.setState(Object(y.a)({},n,a))},e.handleNumber=function(t){var s=t.target.value;e.setState({age:s})},e.handleSubmit=function(t){t.preventDefault();var s=e.state,n=s.username,a=s.password,c=s.name,r=s.nativeLanguages,i=s.learningLanguages,l=s.location,o=s.age,j=s.gender,h=s.description,u=s.goal;p(n,a,c,r,i,l,o,j,h,u).then((function(t){var s;t.message?e.setState((s={message:t.message,username:"",password:""},Object(y.a)(s,"message",""),Object(y.a)(s,"name",""),Object(y.a)(s,"nativeLanguages",""),Object(y.a)(s,"learningLanguages",[]),Object(y.a)(s,"location",""),Object(y.a)(s,"age",0),Object(y.a)(s,"gender",""),Object(y.a)(s,"description",""),Object(y.a)(s,"goal",""),s)):(console.log(t),e.props.setUser(t),e.props.history.push("/"))}))},e}return Object(o.a)(s,[{key:"render",value:function(){return Object(x.jsx)("section",{className:"container-auth p-2 ",children:Object(x.jsxs)("div",{className:"form-group",children:[Object(x.jsx)("h1",{class:"large text-primary",children:"Sign Up"}),Object(x.jsxs)("p",{class:"lead",children:[Object(x.jsx)("i",{class:"fas fa-user"})," Create Your Account"]}),Object(x.jsxs)("form",{className:"form profile-top auth",onSubmit:this.handleSubmit,children:[Object(x.jsx)("label",{htmlFor:"username",children:" "}),Object(x.jsx)("input",{className:"form-group",type:"text",name:"username",value:this.state.username,onChange:this.handleChange,id:"username",placeholder:"Username"}),Object(x.jsx)("label",{htmlFor:"password",children:" "}),Object(x.jsx)("input",{className:"form-group",type:"password",name:"password",value:this.state.password,onChange:this.handleChange,id:"password",placeholder:"password"}),Object(x.jsx)("label",{htmlFor:"name"}),Object(x.jsx)("input",{className:"form-group",type:"text",name:"name",value:this.state.name,onChange:this.handleChange,id:"name",placeholder:"name"}),Object(x.jsx)("h2",{className:"m-3",children:"Languages"}),Object(x.jsx)("label",{htmlFor:"nativeLanguages",className:"m"}),Object(x.jsxs)("select",{name:"nativeLanguages",id:"nativeLanguages",form:"carform",onChange:this.handleChange,required:!0,children:[Object(x.jsx)("option",{selected:!0,children:" Choose a native language"}),Object(x.jsx)("option",{value:"English",children:"English"}),Object(x.jsx)("option",{value:"French",children:"French"}),Object(x.jsx)("option",{value:"German",children:"German"}),Object(x.jsx)("option",{value:"Italian",children:"Italian"}),Object(x.jsx)("option",{value:"Spanish",children:"Spanish"}),Object(x.jsx)("option",{value:"Chinese",children:"Chinese"}),Object(x.jsx)("option",{value:"Arabic",children:"Arabic"}),Object(x.jsx)("option",{value:"Russian",children:"Russian"})]}),Object(x.jsx)("label",{htmlFor:"learningLanguages",className:"m-1"}),Object(x.jsxs)("select",{name:"learningLanguages",id:"learningLanguages",form:"carform",onChange:this.handleChange,required:!0,children:[Object(x.jsx)("option",{selected:!0,children:"Choose a learning language"}),Object(x.jsx)("option",{value:"English",children:"English"}),Object(x.jsx)("option",{value:"French",children:"French"}),Object(x.jsx)("option",{value:"German",children:"German"}),Object(x.jsx)("option",{value:"Italian",children:"Italian"}),Object(x.jsx)("option",{value:"Spanish",children:"Spanish"}),Object(x.jsx)("option",{value:"Chinese",children:"Chinese"}),Object(x.jsx)("option",{value:"Arabic",children:"Arabic"}),Object(x.jsx)("option",{value:"Russian",children:"Russian"})]}),Object(x.jsx)("label",{htmlFor:"location",className:"m-1"}),Object(x.jsxs)("select",{name:"location",id:"location",form:"carform",onChange:this.handleChange,children:[Object(x.jsx)("option",{selected:!0,children:"Choose a city"}),Object(x.jsx)("option",{value:"Berlin",children:"Berlin"}),Object(x.jsx)("option",{value:"Hamburg",children:"Hamburg"}),Object(x.jsx)("option",{value:"K\xf6ln",children:"K\xf6ln"}),Object(x.jsx)("option",{value:"Paris",children:"Paris"}),Object(x.jsx)("option",{value:"London",children:"London"}),Object(x.jsx)("option",{value:"Barcelona",children:"Barcelona"})]}),Object(x.jsx)("h2",{className:"m-3",children:" Profile Settings "}),Object(x.jsx)("label",{className:"grey ",htmlFor:"age ",children:Object(x.jsx)("p",{children:"choose your age"})}),Object(x.jsx)("input",{className:"form-group",type:"Number",name:"age",value:this.state.age,onChange:this.handleNumber,id:"age",min:"16",max:"100",required:!0}),Object(x.jsx)("label",{htmlFor:"gender",className:"m-1"}),Object(x.jsxs)("select",{name:"gender",id:"gender",form:"carform",onChange:this.handleChange,children:[Object(x.jsx)("option",{selected:!0,children:"Choose a gender..."}),Object(x.jsx)("option",{value:"female",children:"Female"}),Object(x.jsx)("option",{value:"male",children:"Male"}),Object(x.jsx)("option",{value:"transgender",children:"Transgender"})]}),Object(x.jsx)("label",{htmlFor:"description",className:"m"}),Object(x.jsx)("textarea",{className:"form-group",type:"text",rows:"4",cols:"50",name:"description",value:this.state.description,onChange:this.handleChange,id:"description",placeholder:"Write something about you..."}),Object(x.jsx)("label",{htmlFor:"goal"}),Object(x.jsx)("textarea",{className:"form-group",type:"text",rows:"4",cols:"50",name:"goal",value:this.state.goal,onChange:this.handleChange,id:"goal",placeholder:"Your learning goals... "}),Object(x.jsx)("button",{className:"btn btn-primary m-2",type:"submit",children:Object(x.jsx)("h3",{children:"Sign Up"})}),this.state.message&&Object(x.jsx)("h3",{children:this.state.message})]}),Object(x.jsxs)("p",{class:"my-1",children:["Already have an account? ",Object(x.jsx)(b.b,{to:"/login",className:"text-dark",children:"Login"})]})]})})}}]),s}(n.Component),C=function(e){Object(j.a)(s,e);var t=Object(h.a)(s);function s(){var e;Object(l.a)(this,s);for(var n=arguments.length,a=new Array(n),c=0;c<n;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={username:"",password:"",message:""},e.handleChange=function(t){var s=t.target,n=s.name,a=s.value;e.setState(Object(y.a)({},n,a))},e.handleSubmit=function(t){console.log("STEP 1",e.state),t.preventDefault();var s=e.state,n=s.username,a=s.password;m(n,a).then((function(t){t.message?e.setState({message:t.message,username:"",password:""}):(console.log(t),e.props.setUser(t),e.props.history.push("/"))}))},e}return Object(o.a)(s,[{key:"render",value:function(){return Object(x.jsx)("section",{className:"container-auth p-2",children:Object(x.jsxs)("div",{children:[Object(x.jsx)("h1",{class:"large text-primary",children:"Sign In"}),Object(x.jsxs)("p",{class:"lead",children:[Object(x.jsx)("i",{class:"fas fa-user"})," Sign into Your Account"]}),Object(x.jsxs)("form",{class:"form profile-top auth",s:!0,onSubmit:this.handleSubmit,children:[Object(x.jsx)("label",{htmlFor:"username"}),Object(x.jsx)("input",{className:"form-group",type:"text",name:"username",value:this.state.username,onChange:this.handleChange,id:"username",placeholder:"Username"}),Object(x.jsx)("label",{htmlFor:"password"}),Object(x.jsx)("input",{className:"form-group",type:"password",name:"password",value:this.state.password,onChange:this.handleChange,id:"password",placeholder:"Password"}),Object(x.jsx)("button",{className:"btn btn-primary",type:"submit",children:"Login"}),this.state.message&&Object(x.jsx)("h3",{children:this.state.message})]}),Object(x.jsxs)("p",{class:"my-3",children:["Don't have an account?",Object(x.jsx)(b.b,{to:"/signup",className:" text-dark",children:" Signup "})]})]})})}}]),s}(n.Component),S=(s(35),function(e){return Object(x.jsxs)("nav",{className:"navbar bg-dark ",children:[Object(x.jsxs)("ul",{children:[Object(x.jsx)("img",{className:"round-img png margin-y",src:"https://images.vexels.com/media/users/3/156819/isolated/lists/9ef07f640db3ffba01c183d3a0864f21-macaw-parrot-bird-illustration.png",alt:""}),Object(x.jsx)("h1",{children:"Papagei"})]}),Object(x.jsxs)("ul",{children:[Object(x.jsx)("li",{children:Object(x.jsx)(b.b,{to:"/",children:"Community"})}),Object(x.jsx)("li",{children:Object(x.jsx)(b.b,{to:"/messages",children:" Messages"})}),Object(x.jsx)("li",{children:Object(x.jsx)(b.b,{to:"/profile",children:"Profil"})})]})]})}),L=s(22),w=s.n(L),E=s(34),U=function(e){Object(j.a)(s,e);var t=Object(h.a)(s);function s(){var e;Object(l.a)(this,s);for(var n=arguments.length,a=new Array(n),c=0;c<n;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={currentUser:e.props.user,users:[],location:"",nativeLanguages:"",learningLanguages:"",imageUrl:""},e.getUsers=Object(E.a)(w.a.mark((function t(){var s,n;return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,g.a.get("/api/users");case 2:s=t.sent,n=s.data,e.setState({users:n});case 5:case"end":return t.stop()}}),t)}))),e.handleChange=function(t){var s=t.target.name,n=t.target.value;console.log(s,n),e.setState(Object(y.a)({},s,n))},e}return Object(o.a)(s,[{key:"componentDidMount",value:function(){this.getUsers()}},{key:"render",value:function(){var e=this;console.log("IMG URL ",this.state.imageUrl),console.log("USER location",this.state.currentUser.location);var t=this.state.users.filter((function(t){return(t.location===e.state.location||!e.state.location)&&(t.nativeLanguages===e.state.learningLanguages||!e.state.learningLanguages)||t.learningLanguages===e.state.nativeLanguages||!e.state.nativeLanguages}));return console.log(t),Object(x.jsxs)("div",{children:[Object(x.jsx)("div",{children:Object(x.jsx)("div",{class:"profile-top  p-2"})}),Object(x.jsx)("div",{className:"",children:Object(x.jsx)("div",{className:" ",children:Object(x.jsxs)("form",{className:"form profile bg-light",onSubmit:this.handleSubmit,children:[Object(x.jsx)("div",{children:Object(x.jsxs)("select",{name:"location",id:"location",form:"carform",onChange:this.handleChange,children:[Object(x.jsx)("option",{value:"",selected:!0,children:" show member from "}),Object(x.jsx)("option",{value:"",children:"all locations"}),Object(x.jsx)("option",{value:"berlin",children:"Berlin"}),Object(x.jsx)("option",{value:"hambourg",children:"Hamburg"}),Object(x.jsx)("option",{value:"paris",children:"Paris"}),Object(x.jsx)("option",{value:"london",children:"London"})]})}),Object(x.jsxs)("div",{children:[Object(x.jsx)("label",{htmlFor:"learningLanguages"}),Object(x.jsxs)("select",{name:"learningLanguages",id:"learningLanguages",form:"carform",onChange:this.handleChange,children:[Object(x.jsx)("option",{value:"",selected:!0,children:" show member that speaks"}),Object(x.jsx)("option",{value:"",children:"All"}),Object(x.jsx)("option",{value:"english",children:"English"}),Object(x.jsx)("option",{value:"french",children:"French"}),Object(x.jsx)("option",{value:"german",children:"German"}),Object(x.jsx)("option",{value:"italian",children:"Italian"}),Object(x.jsx)("option",{value:"spanish",children:"Spanish"})]})]}),Object(x.jsx)("div",{children:Object(x.jsxs)("select",{name:"nativeLanguages",id:"nativeLanguages",form:"carform",onChange:this.handleChange,children:[Object(x.jsx)("option",{value:"",selected:!0,children:" your native language "}),Object(x.jsx)("option",{value:"",children:"All"}),Object(x.jsx)("option",{value:"english",children:"English"}),Object(x.jsx)("option",{value:"french",children:"French"}),Object(x.jsx)("option",{value:"german",children:"German"}),Object(x.jsx)("option",{value:"italian",children:"Italian"}),Object(x.jsx)("option",{value:"spanish",children:"Spanish"})]})})]})})}),t.map((function(e,t){return console.log("HERE USER",e),Object(x.jsx)("div",{className:"profiles ",children:Object(x.jsxs)("div",{className:"profile bg-light",children:[Object(x.jsx)("img",{className:"img-profile",src:e.imageUrl,alt:""}),Object(x.jsxs)("div",{children:[Object(x.jsx)("h2",{className:"my-1",children:e.name}),Object(x.jsxs)("h3",{children:[" Age:",e.age]}),Object(x.jsxs)("h3",{children:[" Gender: ",e.gender]}),Object(x.jsxs)("h3",{children:[" Location: ",e.location]}),Object(x.jsx)(b.b,{to:"/users/".concat(e._id),className:"btn  btn-dark my-2",children:"View Profile"})]}),Object(x.jsxs)("ul",{children:[Object(x.jsxs)("li",{className:"text-primary ",children:[Object(x.jsxs)("p",{className:"grey   ",children:[" ",Object(x.jsx)("i",{class:"far fa-comments text-secondary "}),"Speaks"]}),Object(x.jsx)("h3",{children:e.nativeLanguages})]}),Object(x.jsxs)("li",{className:"text-primary",children:[Object(x.jsxs)("p",{className:"grey ",children:[Object(x.jsx)("i",{class:"fas fa-comments  "})," Learns"]}),Object(x.jsx)("h3",{children:e.learningLanguages})]})]})]})},t)}))]})}}]),s}(n.Component),F=function(e){Object(j.a)(s,e);var t=Object(h.a)(s);function s(){return Object(l.a)(this,s),t.apply(this,arguments)}return Object(o.a)(s,[{key:"render",value:function(){return console.log(this.props,"props at homepage"),Object(x.jsxs)("div",{children:[Object(x.jsx)(S,{}),Object(x.jsx)(U,Object(i.a)({},this.props))]})}}]),s}(n.Component),k=function(e){Object(j.a)(s,e);var t=Object(h.a)(s);function s(){var e;Object(l.a)(this,s);for(var n=arguments.length,a=new Array(n),c=0;c<n;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={name:e.props.user.name,location:e.props.user.location,age:e.props.user.age,gender:e.props.user.gender,description:e.props.user.description,goal:e.props.user.goal},e.handleChange=function(t){var s=t.target,n=s.name,a=s.value;console.log("STEP 0",t.target),e.setState(Object(y.a)({},n,a)),console.log("STEP 1",e.state)},e.handleSubmit=function(t){t.preventDefault(),console.log("Step 2"),g.a.put("/api/user/".concat(e.props.user._id),{name:e.state.name,location:e.state.location,age:e.state.age,gender:e.state.gender,description:e.state.description,goal:e.state.goal}).then((function(t){console.log("RESPONSE",t.data),e.props.setUser(t.data)})).catch((function(e){console.log(e)}))},e.handleLogout=function(){O().then((function(){e.props.setUser(null),e.props.history.push("/")}))},e}return Object(o.a)(s,[{key:"render",value:function(){var e=this;return Object(x.jsxs)("div",{children:[Object(x.jsx)(S,{}),Object(x.jsxs)("div",{className:"profile-grid my-5 container",children:[Object(x.jsxs)("div",{className:"profile-exp bg-white p-2 ",children:[Object(x.jsxs)("h2",{children:[Object(x.jsx)("i",{class:"fas fa-user my-1"})," Settings"]}),Object(x.jsxs)("ul",{className:"flex-smart ",children:[Object(x.jsx)("li",{children:Object(x.jsx)(b.b,{to:"/profile",className:"btn my-1 btn-width btn-smart ",children:"Profile"})}),Object(x.jsx)("li",{children:Object(x.jsx)(b.b,{to:"/languages",className:"btn my-1 btn-width btn-smart",children:"Languages"})}),Object(x.jsx)("li",{children:Object(x.jsx)(b.b,{to:"/upload",className:"btn my-1 btn-width btn-smart ",children:"Picture "})}),Object(x.jsxs)("li",{children:[" ",Object(x.jsx)(b.b,{to:"/",onClick:function(){return e.handleLogout()},className:"btn my-1 btn-width btn-smart",children:"Logout "})]})]})]}),Object(x.jsx)("section",{className:" profile-edu bg-white p-2",children:Object(x.jsxs)("div",{className:"form-group ",children:[Object(x.jsx)("h2",{class:"large text-primary center my-3-profile p-3 ",children:"Edit your Profile"}),Object(x.jsxs)("form",{className:"form profile-top-profile",onSubmit:this.handleSubmit,children:[Object(x.jsx)("label",{className:"grey ",htmlFor:"age ",children:Object(x.jsx)("p",{children:"change your name"})}),Object(x.jsx)("label",{htmlFor:"name"}),Object(x.jsx)("input",{type:"text",name:"name",value:this.state.name,onChange:this.handleChange,id:"name"}),Object(x.jsx)("label",{className:"grey",htmlFor:"age ",children:Object(x.jsx)("p",{children:"change your location"})}),Object(x.jsxs)("select",{name:"location",id:"location",form:"carform",onChange:this.handleChange,children:[Object(x.jsx)("option",{selected:!0,children:this.state.location}),Object(x.jsx)("option",{value:"Berlin",children:"Berlin"}),Object(x.jsx)("option",{value:"Hamburg",children:"Hamburg"}),Object(x.jsx)("option",{value:"K\xf6ln",children:"K\xf6ln"}),Object(x.jsx)("option",{value:"Paris",children:"Paris"}),Object(x.jsx)("option",{value:"London",children:"London"}),Object(x.jsx)("option",{value:"Barcelona",children:"Barcelona"})]}),Object(x.jsx)("label",{className:"grey",htmlFor:"age ",children:Object(x.jsx)("p",{children:"Choose your age"})}),Object(x.jsx)("input",{type:"number",name:"age",value:this.state.age,onChange:this.handleChange,id:"age",min:"16",max:"100"}),Object(x.jsx)("label",{className:"grey",htmlFor:"goal",children:"Edit decription"}),Object(x.jsx)("textarea",{type:"text",rows:"5",cols:"30",name:"description",value:this.state.description,onChange:this.handleChange,id:"description"}),Object(x.jsx)("label",{htmlFor:"goal",className:"grey",children:"Edit your learning Goals"}),Object(x.jsx)("textarea",{type:"text",name:"goal",value:this.state.goal,onChange:this.handleChange}),Object(x.jsx)("button",{className:"btn btn-primary m-3",type:"submit",children:Object(x.jsx)("h3",{children:"Submit changes "})}),this.state.message&&Object(x.jsx)("h3",{children:this.state.message})]}),Object(x.jsx)(b.b,{to:"/users/".concat(this.props.user._id),className:"btn  btn-dark my-2",children:"View Profile"})]})})]})]})}}]),s}(n.Component),P=function(e){Object(j.a)(s,e);var t=Object(h.a)(s);function s(){var e;Object(l.a)(this,s);for(var n=arguments.length,a=new Array(n),c=0;c<n;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={nativeLanguages:e.props.user.nativeLanguages,learningLanguages:e.props.user.learningLanguages},e.handleChange=function(t){console.log(t.target);var s=t.target,n=s.name,a=s.value;e.setState(Object(y.a)({},n,a))},e.handleSubmit=function(t){t.preventDefault(),console.log("Step 2"),g.a.put("/api/user/".concat(e.props.user._id),{nativeLanguages:e.state.nativeLanguages,learningLanguages:e.state.learningLanguages}).then((function(e){console.log("RESPONSE",e)})).catch((function(e){console.log(e)}))},e.handleLogout=function(){O().then((function(){e.props.setUser(null),e.props.history.push("/")}))},e}return Object(o.a)(s,[{key:"render",value:function(){var e=this;return Object(x.jsxs)("div",{children:[Object(x.jsx)(S,{}),Object(x.jsxs)("div",{className:"profile-grid my-5 container",children:[Object(x.jsxs)("div",{className:"profile-exp bg-white p-2 ",children:[Object(x.jsxs)("h2",{children:[Object(x.jsx)("i",{class:"fas fa-user my-1"})," Settings"]}),Object(x.jsxs)("ul",{className:"flex-smart ",children:[Object(x.jsx)("li",{children:Object(x.jsx)(b.b,{to:"/profile",className:"btn my-1 btn-width",children:"Profile"})}),Object(x.jsx)("li",{children:Object(x.jsx)(b.b,{to:"/languages",className:"btn my-1 btn-width",children:"Languages"})}),Object(x.jsx)("li",{children:Object(x.jsx)(b.b,{to:"/upload",className:"btn my-1 btn-width ",children:"Picture "})}),Object(x.jsxs)("li",{children:[" ",Object(x.jsx)(b.b,{to:"/",onClick:function(){return e.handleLogout()},className:"btn my-1 btn-width",children:"Logout "})]})]})]}),Object(x.jsx)("section",{className:" profile-edu bg-white p-2",children:Object(x.jsxs)("div",{className:"form-group",children:[Object(x.jsx)("h3",{class:"large text-primary center my-3-profile p-3",children:"Edit your Languages"}),Object(x.jsxs)("form",{className:"form profile-top-profile",onSubmit:this.handleSubmit,children:[Object(x.jsx)("label",{className:"grey",htmlFor:"goal",children:"Choose your native Language"}),Object(x.jsxs)("select",{className:"my-3-profile",name:"nativeLanguages",id:"nativeLanguages",form:"carform",onChange:this.handleChange,children:[Object(x.jsx)("option",{selected:!0,children:this.state.nativeLanguages}),Object(x.jsx)("option",{value:"English",children:"English"}),Object(x.jsx)("option",{value:"French",children:"French"}),Object(x.jsx)("option",{value:"German",children:"German"}),Object(x.jsx)("option",{value:"Italian",children:"Italian"}),Object(x.jsx)("option",{value:"Spanish",children:"Spanish"}),Object(x.jsx)("option",{value:"Chinese",children:"Chinese"}),Object(x.jsx)("option",{value:"Arabic",children:"Arabic"}),Object(x.jsx)("option",{value:"Russian",children:"Russian"})]}),Object(x.jsx)("label",{className:"grey",htmlFor:"goal",children:"Choose your learning Language"}),Object(x.jsxs)("select",{name:"learningLanguages",id:"learningLanguages",form:"carform",onChange:this.handleChange,children:[Object(x.jsx)("option",{selected:!0,children:this.state.learningLanguages}),Object(x.jsx)("option",{value:"English",children:"English"}),Object(x.jsx)("option",{value:"French",children:"French"}),Object(x.jsx)("option",{value:"German",children:"German"}),Object(x.jsx)("option",{value:"Italian",children:"Italian"}),Object(x.jsx)("option",{value:"Spanish",children:"Spanish"}),Object(x.jsx)("option",{value:"Chinese",children:"Chinese"}),Object(x.jsx)("option",{value:"Arabic",children:"Arabic"}),Object(x.jsx)("option",{value:"Russian",children:"Russian"})]}),Object(x.jsx)("button",{className:"btn btn-primary m-3",type:"submit",children:Object(x.jsx)("h3",{children:"Submit changes "})}),this.state.message&&Object(x.jsx)("h3",{children:this.state.message})]})]})})]})]})}}]),s}(n.Component),A=function(e){Object(j.a)(s,e);var t=Object(h.a)(s);function s(){var e;Object(l.a)(this,s);for(var n=arguments.length,a=new Array(n),c=0;c<n;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={user:""},e.getUserDetails=function(){var t=e.props.match.params.id;console.log("STEP 1",t),g.a.get("/api/users/".concat(e.props.match.params.id)).then((function(t){console.log("ICI reponse",t),e.setState({user:t.data})})).catch((function(t){console.log(t.response),404===t.response.status&&e.setState({error:"Not found \ud83e\udd37\u200d\u2640\ufe0f\ud83e\udd37\u200d\u2642\ufe0f"})}))},e}return Object(o.a)(s,[{key:"componentDidMount",value:function(){this.getUserDetails()}},{key:"render",value:function(){return console.log("STEP 1",this.props),console.log("STEP 2",this.state.user),Object(x.jsxs)("div",{children:[Object(x.jsx)(S,{}),Object(x.jsxs)("section",{class:"container",children:[Object(x.jsx)(b.b,{to:"/",className:"btn btn-light",children:"Back To Profiles"}),Object(x.jsxs)("div",{class:"profile-grid my-1",children:[Object(x.jsxs)("div",{class:"profile-top bg-primary p-2",children:[Object(x.jsx)("img",{className:"img-profile",src:this.state.user.imageUrl,alt:""}),Object(x.jsx)("h1",{class:"large",children:this.state.user.name}),Object(x.jsxs)("p",{class:"lead",children:["is currently in ",this.state.user.location]}),Object(x.jsx)(b.b,{to:"/users/".concat(this.state.user._id,"/message"),className:"btn btn-light",children:"Message"})]}),Object(x.jsxs)("div",{class:"profile-exp bg-white p-2",children:[Object(x.jsxs)("h2",{class:"text-dark",children:[" ",this.state.user.name," speaks "]}),Object(x.jsx)("h3",{children:this.props.user.nativeLanguages}),Object(x.jsx)("div",{}),Object(x.jsxs)("h2",{class:"text-dark",children:[this.state.user.name,"  learning "]}),Object(x.jsx)("h3",{children:this.props.user.learningLanguages})]}),Object(x.jsx)("div",{class:"profile-edu bg-white p-2",children:Object(x.jsxs)("div",{children:[Object(x.jsxs)("h3",{children:[" About ",this.state.user.name]}),Object(x.jsxs)("p",{children:[" ",this.state.user.age," "]}),Object(x.jsxs)("p",{children:[Object(x.jsx)("strong",{children:"Description: "}),this.state.user.description]})]})}),Object(x.jsxs)("div",{class:"profile-about bg-light p-2",children:[Object(x.jsx)("h2",{class:"text-primary",children:" Goals"}),Object(x.jsx)("p",{children:this.state.user.description}),Object(x.jsx)("div",{class:"line"}),Object(x.jsxs)("div",{class:" icons my-4",children:[Object(x.jsx)(b.b,{children:Object(x.jsx)("i",{class:"fab fa-twitter fa-2x"})}),Object(x.jsx)(b.b,{children:Object(x.jsx)("i",{class:"fab fa-facebook fa-2x"})}),Object(x.jsx)(b.b,{children:Object(x.jsx)("i",{class:"fab fa-linkedin fa-2x"})}),Object(x.jsx)(b.b,{children:Object(x.jsx)("i",{class:"fab fa-instagram fa-2x"})})]})]})]})]})]})}}]),s}(n.Component),I=s(23),R=function(e){Object(j.a)(s,e);var t=Object(h.a)(s);function s(){var e;Object(l.a)(this,s);for(var n=arguments.length,a=new Array(n),c=0;c<n;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={messages:[],recipientIdforConversation:null,reply:""},e.getData=function(){var t=e.props.user._id;console.log("SENDER",t),g.a.get("/api/message/history").then((function(t){console.log("RESPONSE FRONTEND",t.data),e.setState({messages:t.data})})).catch((function(e){console.log(e)}))},e.handleClick=function(t){console.log("ICI",t.target);var s=t.target.value;e.setState({recipientIdforConversation:s})},e.handleChange=function(t){console.log("Event target",t.target);var s=t.target,n=s.name,a=s.value;e.setState(Object(y.a)({},n,a))},e.handleSubmit=function(t){console.log("STEP 1"),t.preventDefault(),g.a.post("/api/message",{recipient:e.state.recipientIdforConversation,content:e.state.reply}).then((function(t){e.getData(),e.setState({reply:""})})).catch((function(e){console.log(e)}))},e}return Object(o.a)(s,[{key:"componentDidMount",value:function(){this.getData()}},{key:"render",value:function(){var e=this;console.log(this.state.messages),console.log("TEST TO GET MESSAGES",this.state.recipientIdforConversation);var t=this.props.user._id,s=[],n=[].concat(Object(I.a)(this.state.messages.map((function(e){return e.recipient}))),Object(I.a)(this.state.messages.map((function(e){return e.sender}))));console.log(n),n.forEach((function(e){e._id!==t&&0===s.filter((function(t){return t._id===e._id})).length&&s.push(e)})),console.log("Unique",s);var a=this.state.recipientIdforConversation,c=this.state.messages.filter((function(e){return e.recipient._id===a||e.sender._id===a}));console.log("Filtered",c);var r=s.map((function(t){return Object(x.jsx)("div",{children:Object(x.jsxs)("div",{children:[Object(x.jsx)("p",{children:t.name}),Object(x.jsx)("button",{value:t._id,onClick:e.handleClick,children:"see messages"})]},t._id)})})),i=c.map((function(e){return Object(x.jsxs)("div",{children:[Object(x.jsx)("p",{children:Object(x.jsxs)("b",{children:["from ",e.sender.name," to ",e.recipient.name]})}),Object(x.jsx)("p",{children:e.content})]})}));return Object(x.jsxs)("div",{children:[Object(x.jsx)(S,{}),Object(x.jsx)("div",{className:"profile-grid my-5 container",children:Object(x.jsxs)("div",{className:"profile-exp bg-white p-2 ",children:[Object(x.jsxs)("h2",{children:[Object(x.jsx)("i",{class:"fas fa-user my-1"})," Your messages"]}),Object(x.jsxs)("div",{children:[Object(x.jsx)("h3",{children:"Contacts"}),Object(x.jsx)("p",{children:r})]}),Object(x.jsxs)("div",{className:" profile-edu bg-white p-3",children:[Object(x.jsx)("p",{children:i}),Object(x.jsxs)("form",{className:"form profile-top",onSubmit:this.handleSubmit,children:[Object(x.jsx)("input",{className:"form-group",type:"text",name:"reply",value:this.state.reply,onChange:this.handleChange,id:"reply",placeholder:"Write you message here"}),Object(x.jsx)("button",{className:"btn btn-primary m-2",type:"submit",children:Object(x.jsx)("h3",{children:"Submit changes "})}),this.state.message&&Object(x.jsx)("h3",{children:this.state.message})]})]})]})})]})}}]),s}(n.Component),D=function(e){Object(j.a)(s,e);var t=Object(h.a)(s);function s(){var e;Object(l.a)(this,s);for(var n=arguments.length,a=new Array(n),c=0;c<n;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={recipient:null,content:""},e.handleChange=function(t){console.log("Event target",t.target);var s=t.target,n=s.name,a=s.value;e.setState(Object(y.a)({},n,a))},e.getUserDetails=function(){var t=e.props.match.params.id;console.log("USER RECEPIENT",t),g.a.get("/api/users/".concat(e.props.match.params.id)).then((function(t){console.log("ICI reponse",t),e.setState({recipient:t.data})})).catch((function(t){console.log(t.response),404===t.response.status&&e.setState({error:"Not found \ud83e\udd37\u200d\u2640\ufe0f\ud83e\udd37\u200d\u2642\ufe0f"})}))},e.handleSubmit=function(t){t.preventDefault(),g.a.post("/api/message",{recipient:e.state.recipient._id,content:e.state.content}).then((function(){e.props.history.push("/messages")})).catch((function(e){console.log(e)}))},e}return Object(o.a)(s,[{key:"componentDidMount",value:function(){this.getUserDetails()}},{key:"render",value:function(){return console.log("CURRENT USER",this.props.user),console.log("RECEPIENT",this.state.recipient),this.state.recipient?Object(x.jsxs)("div",{children:[Object(x.jsx)(S,{}),Object(x.jsx)("div",{className:"profile-grid my-5 container",children:Object(x.jsxs)("div",{className:"profile-exp bg-white p-2 ",children:[Object(x.jsxs)("h2",{children:[Object(x.jsx)("i",{class:"fas fa-user my-1"})," Message form "]}),Object(x.jsxs)("form",{className:"form profile-top",onSubmit:this.handleSubmit,children:[Object(x.jsx)("label",{htmlFor:"name",className:"m",children:" Sent to this user"}),Object(x.jsx)("input",{type:"text",name:"recipient",value:this.state.recipient.name,id:"recipient"}),Object(x.jsx)("label",{htmlFor:"name",className:"m",children:"From current user"}),Object(x.jsx)("input",{className:"form-group",type:"text",name:"sender",value:this.props.user.name,id:"sender"}),Object(x.jsx)("input",{className:"form-group",type:"text",name:"content",value:this.state.content,onChange:this.handleChange,id:"content",placeholder:"Write you message here"}),Object(x.jsx)("button",{className:"btn btn-primary m-2",type:"submit",children:Object(x.jsx)("h3",{children:"Submit changes "})}),this.state.message&&Object(x.jsx)("h3",{children:this.state.message})]})]})})]}):Object(x.jsx)("p",{children:"loading"})}}]),s}(n.Component),T=g.a.create({baseURL:"http://localhost:5005/api"}),G=function(e){throw e},_={service:T,handleUpload:function(e,t){return T.post("/upload/".concat(t),e).then((function(e){return e.data})).catch(G)},saveNewThing:function(e){return T.post("/picture/create",e).then((function(e){return e.data})).catch(G)}},B=function(e){Object(j.a)(s,e);var t=Object(h.a)(s);function s(){var e;Object(l.a)(this,s);for(var n=arguments.length,a=new Array(n),c=0;c<n;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={imageUrl:""},e.handleFileUpload=function(t){console.log("The file to be uploaded is: ",t.target.files[0]);var s=new FormData;s.append("imageUrl",t.target.files[0]),_.handleUpload(s,e.props.user._id).then((function(t){e.setState({imageUrl:t.secure_url})})).catch((function(e){console.log("Error while uploading the file: ",e)}))},e.handleSubmit=function(t){t.preventDefault(),_.createEvent(e.state).then((function(e){console.log("added: ",e)})).catch((function(e){console.log("Error while adding the thing: ",e)})),g.a.post("/api/upload",{imageUrl:e.state.imageUrl}).then((function(){console.log("IMAGE AFTER",e.state.imageUrl),e.setState({imageUrl:""}),e.props.history.push("./upload")}))},e.handleLogout=function(){O().then((function(){e.props.setUser(null),e.props.history.push("/")}))},e}return Object(o.a)(s,[{key:"render",value:function(){var e=this;return Object(x.jsx)("div",{children:Object(x.jsxs)("div",{children:[Object(x.jsx)(S,{}),Object(x.jsxs)("div",{className:"profile-grid my-5 container",children:[Object(x.jsxs)("div",{className:"profile-exp bg-white p-2 ",children:[Object(x.jsxs)("h2",{children:[Object(x.jsx)("i",{class:"fas fa-user my-1"})," Settings"]}),Object(x.jsxs)("ul",{className:"flex-smart ",children:[Object(x.jsx)("li",{children:Object(x.jsx)(b.b,{to:"/profile",className:"btn my-1 btn-width",children:"Profile"})}),Object(x.jsx)("li",{children:Object(x.jsx)(b.b,{to:"/languages",className:"btn my-1 btn-width",children:"Languages"})}),Object(x.jsx)("li",{children:Object(x.jsxs)(b.b,{to:"/upload",className:"btn my-1 btn-width ",children:["Picture"," "]})}),Object(x.jsxs)("li",{children:[" ",Object(x.jsxs)("li",{children:[" ",Object(x.jsxs)(b.b,{to:"/",onClick:function(){return e.handleLogout()},className:"btn my-1 btn-width",children:["Logout"," "]})]})]})]})]}),Object(x.jsx)("section",{className:" profile-edu bg-white p-2",children:Object(x.jsxs)("div",{className:"form-group",children:[Object(x.jsx)("h2",{class:"large text-primary center my-3-profile  ",children:"Upload your Picture"}),Object(x.jsxs)("form",{className:"form profile-top-profile",children:[Object(x.jsx)("img",{className:"img-profile m-3",src:this.props.user.imageUrl,alt:""}),Object(x.jsx)("input",{classname:"btn",type:"file",id:"image",name:"iage",onChange:function(t){return e.handleFileUpload(t)}}),Object(x.jsx)("button",{className:"btn btn-primary m-3",type:"submit",children:Object(x.jsx)("h3",{children:"Submit changes "})})]})]})})]})]})})}}]),s}(n.Component),M=function(e){Object(j.a)(s,e);var t=Object(h.a)(s);function s(){var e;Object(l.a)(this,s);for(var n=arguments.length,a=new Array(n),c=0;c<n;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={user:e.props.user},e.setUser=function(t){e.setState({user:t})},e}return Object(o.a)(s,[{key:"render",value:function(){var e=this;return console.log("check the user",this.state.user),Object(x.jsxs)("div",{className:"App",children:[Object(x.jsx)(v,{user:this.state.user,setUser:this.setUser}),Object(x.jsx)(u.b,{exact:!0,path:"/",render:function(t){return e.state.user?Object(x.jsx)(F,Object(i.a)({user:e.state.user},t)):Object(x.jsx)(u.a,{to:"/"})}}),Object(x.jsx)(u.b,{exact:!0,path:"/profile",render:function(t){return e.state.user?Object(x.jsx)(k,Object(i.a)(Object(i.a)({user:e.state.user},t),{},{setUser:e.setUser})):Object(x.jsx)(u.a,{to:"/"})}}),Object(x.jsx)(u.b,{exact:!0,path:"/messages",render:function(t){return e.state.user?Object(x.jsx)(R,Object(i.a)(Object(i.a)({user:e.state.user},t),{},{setUser:e.setUser})):Object(x.jsx)(u.a,{to:"/"})}}),Object(x.jsx)(u.b,{exact:!0,path:"/languages",render:function(t){return e.state.user?Object(x.jsx)(P,Object(i.a)(Object(i.a)({user:e.state.user},t),{},{setUser:e.setUser})):Object(x.jsx)(u.a,{to:"/"})}}),Object(x.jsx)(u.b,{exact:!0,path:"/upload",render:function(t){return e.state.user?Object(x.jsx)(B,Object(i.a)(Object(i.a)({user:e.state.user},t),{},{setUser:e.setUser})):Object(x.jsx)(u.a,{to:"/"})}}),Object(x.jsx)(u.b,{exact:!0,path:"/users/:id",render:function(t){return e.state.user?Object(x.jsx)(A,Object(i.a)({user:e.state.user},t)):Object(x.jsx)(u.a,{to:"/"})}}),Object(x.jsx)(u.b,{exact:!0,path:"/users/:id/message",render:function(t){return e.state.user?Object(x.jsx)(D,Object(i.a)({user:e.state.user},t)):Object(x.jsx)(u.a,{to:"/"})}}),Object(x.jsx)(u.b,{exact:!0,path:"/signup",render:function(t){return Object(x.jsx)(N,Object(i.a)({setUser:e.setUser},t))}}),Object(x.jsx)(u.b,{exact:!0,path:"/login",render:function(t){return Object(x.jsx)(C,Object(i.a)({setUser:e.setUser},t))}}),Object(x.jsx)(u.b,{exact:!0,path:"/",render:function(t){return Object(x.jsx)(f,Object(i.a)({setUser:e.setUser},t))}})]})}}]),s}(a.a.Component),H=function(e){e&&e instanceof Function&&s.e(3).then(s.bind(null,72)).then((function(t){var s=t.getCLS,n=t.getFID,a=t.getFCP,c=t.getLCP,r=t.getTTFB;s(e),n(e),a(e),c(e),r(e)}))};g.a.get("/api/auth/loggedin").then((function(e){var t=e.data;r.a.render(Object(x.jsx)(b.a,{children:Object(x.jsx)(M,{user:t})}),document.getElementById("root"))})).catch((function(e){console.log(e)})),H()}},[[71,1,2]]]);
//# sourceMappingURL=main.882d5e75.chunk.js.map